# Asset & Liability Tracking Implementation Plan

## Phase 1: Database Schema Design âœ… COMPLETED (Sept 16, 2025)
1. âœ… **Create Assets table** in Prisma schema
   - `id`, `userId` (foreign key), `name`, `category`, `value`, `description`, `createdAt`, `updatedAt`
2. âœ… **Create Liabilities table** in Prisma schema
   - `id`, `userId` (foreign key), `name`, `category`, `value`, `description`, `createdAt`, `updatedAt`
3. âœ… **Generate and run Prisma migration** to create tables in Supabase
   - Migration created: `20250916155113_add_assets_and_liabilities`
   - Tables successfully created in Supabase database
   - Prisma Client regenerated with new models

## Phase 2: Database Operations (CRUD) ğŸ”„ IN PROGRESS (Sept 17, 2025)
4. âœ… **Create data access functions** in new `src/lib/assets.ts` and `src/lib/liabilities.ts`
   - âœ… `getAssets(userId)` - fetch user's assets
   - âœ… `createAsset(userId, assetData)` - add new asset
   - âœ… `updateAsset(assetId, updates)` - edit existing asset
   - âœ… `deleteAsset(assetId)` - remove asset
   - âœ… Similar functions for liabilities (all CRUD operations completed)
   - âœ… Global Prisma instance pattern implemented
   - âœ… TypeScript types defined for data operations
   - âœ… Error handling and try/catch blocks added
5. ğŸ”„ **Add calculation utilities** (STARTED - need to complete tomorrow)
   - â³ `calculateTotalAssets(assets)` - needs implementation
   - â³ `calculateTotalLiabilities(liabilities)` - needs implementation
   - â³ `calculateNetWorth(totalAssets, totalLiabilities)` - needs implementation

## Phase 3: UI Components & Forms
6. **Create form components** using ShadCN/UI + React Hook Form
   - `AssetForm.tsx` - add/edit assets with Zod validation
   - `LiabilityForm.tsx` - add/edit liabilities with Zod validation
7. **Create list components**
   - `AssetsList.tsx` - display assets with edit/delete actions
   - `LiabilitiesList.tsx` - display liabilities with edit/delete actions

## Phase 4: Dashboard Integration
8. **Update main dashboard** (`src/app/page.tsx`)
   - Fetch real asset/liability data from database
   - Calculate and display actual totals
   - Add buttons to open add/edit forms
   - Replace hardcoded $0.00 with real calculations

## Phase 5: Polish & Enhancement
9. **Add categories system** (e.g., "Savings", "Real Estate", "Credit Cards")
10. **Implement responsive design** for mobile/desktop
11. **Add form validation** with helpful error messages
12. **Test all functionality** end-to-end

**Learning Goals:**
- Database relationships and foreign keys
- CRUD operations with Prisma ORM
- Form handling with React Hook Form + Zod
- Server Actions in Next.js 15
- TypeScript with database operations

**Commands for Phase 1:**
1. Edit prisma/schema.prisma to add Asset and Liability models
2. Run: npx prisma migrate dev --name "add-assets-and-liabilities"
3. Run: npx prisma generate